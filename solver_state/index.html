
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../common/">
      
      
        <link rel="next" href="../solver/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.8">
    
    
      
        <title>Solver State - AI Planning Research Project</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.046329b4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra_style.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#src.solver.solver_state.SolverState" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AI Planning Research Project" class="md-header__button md-logo" aria-label="AI Planning Research Project" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AI Planning Research Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Solver State
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AI Planning Research Project" class="md-nav__button md-logo" aria-label="AI Planning Research Project" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    AI Planning Research Project
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../cdcl_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example CDCL search
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fundamentals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fundamentals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../constraint_expressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constraint Expressions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Solver
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Solver
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Solver State
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Solver State
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState" class="md-nav__link">
    SolverState
  </a>
  
    <nav class="md-nav" aria-label="SolverState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.decision_level" class="md-nav__link">
    decision_level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.num_events_at_current_decision_level" class="md-nav__link">
    num_events_at_current_decision_level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.ScopeInfo" class="md-nav__link">
    ScopeInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.bound_of" class="md-nav__link">
    bound_of()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.presence_literal_of" class="md-nav__link">
    presence_literal_of()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.entails" class="md-nav__link">
    entails()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.entails_implication" class="md-nav__link">
    entails_implication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.get_first_event_entailing" class="md-nav__link">
    get_first_event_entailing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.is_assignment_complete" class="md-nav__link">
    is_assignment_complete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.set_literal" class="md-nav__link">
    set_literal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.set_bound" class="md-nav__link">
    set_bound()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.add_new_variable" class="md-nav__link">
    add_new_variable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.register_non_optional_vars_literals_implication" class="md-nav__link">
    register_non_optional_vars_literals_implication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.register_and_sort_scope" class="md-nav__link">
    register_and_sort_scope()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.get_scope_tautology_literal" class="md-nav__link">
    get_scope_tautology_literal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.get_scope_representative_literal" class="md-nav__link">
    get_scope_representative_literal()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../solver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solver Main Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_4" >
        
          <label class="md-nav__link" for="__nav_4_3_4" id="__nav_4_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reasoners
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_4">
            <span class="md-nav__icon md-icon"></span>
            Reasoners
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reasoner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reasoner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sat_reasoner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SAT Reasoner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../diff_reasoner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Difference Logic Reasoner
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_5" >
        
          <label class="md-nav__link" for="__nav_4_3_5" id="__nav_4_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Branchers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_5">
            <span class="md-nav__icon md-icon"></span>
            Branchers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../brancher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Brancher
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState" class="md-nav__link">
    SolverState
  </a>
  
    <nav class="md-nav" aria-label="SolverState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.decision_level" class="md-nav__link">
    decision_level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.num_events_at_current_decision_level" class="md-nav__link">
    num_events_at_current_decision_level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.ScopeInfo" class="md-nav__link">
    ScopeInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.bound_of" class="md-nav__link">
    bound_of()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.presence_literal_of" class="md-nav__link">
    presence_literal_of()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.entails" class="md-nav__link">
    entails()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.entails_implication" class="md-nav__link">
    entails_implication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.get_first_event_entailing" class="md-nav__link">
    get_first_event_entailing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.is_assignment_complete" class="md-nav__link">
    is_assignment_complete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.set_literal" class="md-nav__link">
    set_literal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.set_bound" class="md-nav__link">
    set_bound()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.add_new_variable" class="md-nav__link">
    add_new_variable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.register_non_optional_vars_literals_implication" class="md-nav__link">
    register_non_optional_vars_literals_implication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.register_and_sort_scope" class="md-nav__link">
    register_and_sort_scope()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.get_scope_tautology_literal" class="md-nav__link">
    get_scope_tautology_literal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.solver.solver_state.SolverState.get_scope_representative_literal" class="md-nav__link">
    get_scope_representative_literal()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Solver State</h1>

<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>This module defines the main low-level class of the solver.</p>
<p>It contains low-level methods allowing to query the state of the solver,
as well as arguably the most important method of the whole solver:
<code>set_bound</code> (and its syntactic sugar <code>set_literal</code>).</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="src.solver.solver_state.SolverState" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">SolverState</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">SolverState</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">



  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h6 id="src.solver.solver_state.SolverState.decision_level" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">decision_level</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">decision_level</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The current decision level of the solver.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h6 id="src.solver.solver_state.SolverState.num_events_at_current_decision_level" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">num_events_at_current_decision_level</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">num_events_at_current_decision_level</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The number of events at the current decision level.</p>
  </div>

</div>


<div class="doc doc-object doc-class">




<h6 id="src.solver.solver_state.SolverState.ScopeInfo" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ScopeInfo</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>

  
      <p>Encapsulates information about a scope. A scope (aka conjunctive scope)
is created when we want to refer to a subset of the problem that exists
iff all required scopes are present. For example, the expression <code>a &lt;= b</code>
is defined iff both <code>a</code> and <code>b</code> are present. It can be said to exist in
the (conjunctive) scope defined by the literals <code>presence(a)</code> and <code>presence(b)</code>.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h7 id="src.solver.solver_state.SolverState.ScopeInfo.scope" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">scope</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">scope</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Lit</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The presence literals whose conjunction defines the scope.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>Since order doesn't matter, we could use a Python <code>frozenset</code> instead
of a tuple. However, we prefer to keep our types as simple as we can.</p>
<p>To deal with the problem of order, we simply sort the literals
(lexicographically) before registering a new scope. Moreover, if
a new scope with the same literals in another order was to be
given, we could simply use the same representative literal and
tautology literal for it.</p>
</details>  </div>

</div>

<div class="doc doc-object doc-attribute">




<h7 id="src.solver.solver_state.SolverState.ScopeInfo.representative_literal" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">representative_literal</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">representative_literal</span><span class="p">:</span> <span class="n">Lit</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A literal representing the scope. It is a non optional literal, enforced
to be true iff all the literals of defining the scope are true.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h7 id="src.solver.solver_state.SolverState.ScopeInfo.tautology_literal" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">tautology_literal</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">tautology_literal</span><span class="p">:</span> <span class="n">Lit</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The tautology literal of the scope. It is a literal <code>[v &gt;= 1]</code> where <code>v</code>
is an optional variable that is either absent (when we're out of the
scope, i.e. not all literals in <code>scope</code> are entailed) or always equal
to 1 (when we're in the scope).</p>

<details class="note" open>
  <summary>Note</summary>
  <p>This special tautology literal is needed because <code>TRUE_LIT</code> literal cannot
be used, as it is shared in all scopes and its variable is always present.
The representative literal cannot be used either because its domain is not
reduced to the single value 1.</p>
</details>  </div>

</div>





  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.bound_of" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bound_of</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">bound_of</span><span class="p">(</span><span class="n">signed_var</span><span class="p">:</span> <span class="n">SignedVar</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bound</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><a class="autorefs autorefs-internal" title="src.fundamentals.Bound" href="../fundamentals/#src.fundamentals.Bound">Bound</a></code>
        –
        <div class="doc-md-description">
          <p>The bound of <code>signed_var</code> (at the current decision level).</p>
      </div>
      </li>
  </ul>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.presence_literal_of" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">presence_literal_of</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">presence_literal_of</span><span class="p">(</span><span class="n">var</span><span class="p">:</span> <span class="n">Var</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lit</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><a class="autorefs autorefs-internal" title="src.fundamentals.Lit" href="../fundamentals/#src.fundamentals.Lit">Lit</a></code>
        –
        <div class="doc-md-description">
          <p>The presence literal of <code>var</code>.</p>
      </div>
      </li>
  </ul>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.entails" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">entails</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">entails</span><span class="p">(</span><span class="n">literal</span><span class="p">:</span> <span class="n">Lit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code>bool</code>
        –
        <div class="doc-md-description">
          <p>Whether <code>literal</code> is entailed by the solver (at the current decision level).</p>
      </div>
      </li>
  </ul>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.entails_implication" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">entails_implication</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">entails_implication</span><span class="p">(</span><span class="n">literal_from</span><span class="p">:</span> <span class="n">Lit</span><span class="p">,</span> <span class="n">literal_to</span><span class="p">:</span> <span class="n">Lit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code>bool</code>
        –
        <div class="doc-md-description">
          <p>whether the implication <code>literal_from</code> =&gt; <code>literal_to</code> is entailed                 by the solver (at the current decision level).</p>
      </div>
      </li>
  </ul>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.get_first_event_entailing" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_first_event_entailing</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_first_event_entailing</span><span class="p">(</span><span class="n">literal</span><span class="p">:</span> <span class="n">Lit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Event</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="src.solver.common.Event" href="../common/#src.solver.common.Event">Event</a>]</code>
        –
        <div class="doc-md-description">
          <p>The earliest first event that makes <code>literal</code> true, if there is one.                 Otherwise (if there are no events on <code>literal</code>'s signed variable), returns None.</p>
      </div>
      </li>
  </ul>



  <p>Raises:</p>
  <ul>
      <li class="field-body">
            <code>ValueError</code>
          –
        <div class="doc-md-description">
          <p>if <code>literal</code> isn't currently entailed.</p>
        </div>
      </li>
  </ul>

<details class="note" open>
  <summary>Note</summary>
  <p>The method works by walking through past events on the signed
variable of <code>literal</code>. The first event that makes <code>literal</code>
true is the one whose previous value was weaker than
<code>literal</code>'s bound value (i.e. the literal wasn't
entailed before this event).</p>
</details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.is_assignment_complete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_assignment_complete</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">is_assignment_complete</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>TODO</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.set_literal" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">set_literal</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">set_literal</span><span class="p">(</span><span class="n">literal</span><span class="p">:</span> <span class="n">Lit</span><span class="p">,</span> <span class="n">cause</span><span class="p">:</span> <span class="n">Causes</span><span class="o">.</span><span class="n">AnyCause</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">InvalidBoundUpdate</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Syntactic sugar for <code>set_bound</code>.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.set_bound" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">set_bound</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">set_bound</span><span class="p">(</span><span class="n">signed_var</span><span class="p">:</span> <span class="n">SignedVar</span><span class="p">,</span> <span class="n">bound</span><span class="p">:</span> <span class="n">Bound</span><span class="p">,</span> <span class="n">cause</span><span class="p">:</span> <span class="n">Causes</span><span class="o">.</span><span class="n">AnyCause</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">InvalidBoundUpdate</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Attempts to set a new bound on a signed variable,
which is equivalent to enforcing the corresponding literal.
Arguably the most important method of the solver.</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b>signed_var</b>
            (<code><a class="autorefs autorefs-internal" title="src.fundamentals.SignedVar" href="../fundamentals/#src.fundamentals.SignedVar">SignedVar</a></code>)
        –
        <div class="doc-md-description">
          <p>The signed variable whose bound to set.</p>
        </div>
      </li>
      <li class="field-body">
        <b>bound</b>
            (<code><a class="autorefs autorefs-internal" title="src.fundamentals.Bound" href="../fundamentals/#src.fundamentals.Bound">Bound</a></code>)
        –
        <div class="doc-md-description">
          <p>The bound to set to <code>signed_var</code>.</p>
        </div>
      </li>
      <li class="field-body">
        <b>cause</b>
            (<code><span title="src.solver.common.Causes.AnyCause">AnyCause</span></code>)
        –
        <div class="doc-md-description">
          <p>The cause for this bound update.</p>
        </div>
      </li>
  </ul>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code>bool | <a class="autorefs autorefs-internal" title="src.solver.common.InvalidBoundUpdate" href="../common/#src.solver.common.InvalidBoundUpdate">InvalidBoundUpdate</a></code>
        –
        <div class="doc-md-description">
          <p>False if the update is useless,                 True if the update is successful,                 and <code>InvalidBoundUpdate</code> if the update is failed                 (i.e. a conflict is encountered).</p>
      </div>
      </li>
  </ul>

<details class="note" open>
  <summary>Note</summary>
  <p>The update is:</p>
<ul>
<li>
<p>Useless when either the variable is optional and absent 
or the current bound is stronger than the suggested one.</p>
</li>
<li>
<p>Failed when it leads to an empty domain for a non optional variable.</p>
</li>
<li>
<p>Successful when it doesn't lead to an empty domain for a non optional variable.</p>
</li>
</ul>
<p>When we detect that applying the update would lead to the domain
of <code>signed_var</code>'s variable to be empty (i.e. lower bound strictly
greater than upper bound), there are 2 possibilities:</p>
<ul>
<li>
<p>If the variable is non-optional, immediately return a <code>InvalidBoundUpdate</code>.</p>
</li>
<li>
<p>If the variable is optional, sets the new bound and attempts to set
the negation of the variable's presence literal with a new call to
<code>set_bound</code>. The results of this recursive call are then returned.</p>
</li>
</ul>
<p>When the bound of the signed variable is updated, we also perform
"implication propagation" on presence literals, which can lead to a
conflict (empty domain for the variable of a presence literal) as well.</p>
</details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.add_new_variable" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">add_new_variable</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">add_new_variable</span><span class="p">(</span><span class="n">initial_domain</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">controllable</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">presence_literal</span><span class="p">:</span> <span class="n">Lit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Var</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Registers and returns a new variable with the
given <code>initial_domain</code> and <code>presence_literal</code>.</p>



  <p>Raises:</p>
  <ul>
      <li class="field-body">
            <code>ValueError</code>
          –
        <div class="doc-md-description">
          <p>If <code>presence_literal</code> is defined on a optional variable.</p>
        </div>
      </li>
  </ul>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.register_non_optional_vars_literals_implication" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">register_non_optional_vars_literals_implication</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">register_non_optional_vars_literals_implication</span><span class="p">(</span><span class="n">literal_from</span><span class="p">:</span> <span class="n">Lit</span><span class="p">,</span> <span class="n">literal_to</span><span class="p">:</span> <span class="n">Lit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Registers an implication between two presence literals.</p>



  <p>Raises:</p>
  <ul>
      <li class="field-body">
            <code>ValueError</code>
          –
        <div class="doc-md-description">
          <p>If one of the literals' variables is optional.</p>
        </div>
      </li>
  </ul>

<details class="note" open>
  <summary>Note</summary>
  <p>The literals aren't really required to be "presence literals".
The actual requirement is for their variables to be non optional.
However our usage is basically only for presence literals.</p>
</details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.register_and_sort_scope" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">register_and_sort_scope</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">register_and_sort_scope</span><span class="p">(</span><span class="n">scope</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Lit</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">scope_representative_literal</span><span class="p">:</span> <span class="n">Lit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Sorts the literals in <code>scope</code> and registers them as defining a new scope,
and represented by <code>scope_representative_literal</code>.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.get_scope_tautology_literal" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_scope_tautology_literal</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_scope_tautology_literal</span><span class="p">(</span><span class="n">scope</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Lit</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Lit</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><a class="autorefs autorefs-internal" title="src.fundamentals.Lit" href="../fundamentals/#src.fundamentals.Lit">Lit</a></code>
        –
        <div class="doc-md-description">
          <p>The tautology literal for the scope defined by <code>scope</code>.                 If <code>scope</code> wasn't registered yet, registers it first                 and then returns its tautology literal.</p>
      </div>
      </li>
  </ul>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="src.solver.solver_state.SolverState.get_scope_representative_literal" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_scope_representative_literal</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_scope_representative_literal</span><span class="p">(</span><span class="n">scope</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Lit</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Lit</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><a class="autorefs autorefs-internal" title="src.fundamentals.Lit" href="../fundamentals/#src.fundamentals.Lit">Lit</a></code>
        –
        <div class="doc-md-description">
          <p>The representative literal for the scope defined by <code>scope</code>.                 If <code>scope</code> wasn't registered yet, registers it first                 and then returns its representative literal.</p>
      </div>
      </li>
  </ul>

<details class="note" open>
  <summary>Note</summary>
  <p>In some cases, when the scope is composed of 1 or 2 literals,
the representative literal of the scope can be computed and enforced
to be true at the same time as all its literals quite easily.
Otherwise it is "manually" enforced to be true at the same
time as all its literals.</p>
</details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>